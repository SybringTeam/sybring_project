@model sybring_project.Models.ViewModels.ProjectCompanyVM

@{
    var error = TempData["ErrorMessage"];
    var added = TempData["Added"];
}

<h1>Project Details</h1>

<div>
    <h4>Project Information</h4>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">
            Project Id
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.ProjectVM.FirstOrDefault().Id)
        </dd>

        <dt class="col-sm-2">
            Project Name
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.ProjectVM.FirstOrDefault().Name)
        </dd>

        <dt class="col-sm-2">
            Supervisor Name
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.CompanyVM.FirstOrDefault().SupervisorName)
        </dd>
        <dt class="col-sm-2">
            Supervisor Phone
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.CompanyVM.FirstOrDefault().SupervisorPhone)
        </dd>
        <dt class="col-sm-2">
            Supervisor Email
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.CompanyVM.FirstOrDefault().SupervisorEmail)
        </dd>
        <dt class="col-sm-2">
            Organization Number
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.CompanyVM.FirstOrDefault().OrgNumber)
        </dd>
        <dt class="col-sm-2">
            Company Website
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.CompanyVM.FirstOrDefault().CompanyWeb)
        </dd>
        <dt class="col-sm-2">
            Company Address
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.CompanyVM.FirstOrDefault().CompanyAddress)
        </dd>
        <dt class="col-sm-2">
            Assignes Users
        </dt>
        <dd class="col-sm-10">
           <ul>
               @foreach (var item in Model.UserVM)
                {
                    <li>@item.FirstName @item.LastName</li>
                }
           </ul>
        </dd>
    </dl>
</div>
@* 
<div>
    <h4>Assign a User</h4>
    <form asp-controller="Project" asp-action="AssignUser" method="post">
        <div class="form-group">
            <label>Select User:</label>
            <select name="userId" class="form-control">
                <option value="">Select a User</option>
                @foreach (var user in ViewBag.AllUsers)
                {
                    <option value="@user.Id">@user.UserName</option>
                }
            </select>
            <span class="text-danger"></span>
        </div>

        <input type="hidden" name="projectId" value="@Model.ProjectVM.FirstOrDefault().Id" />

        <button type="submit" class="btn btn-primary">Assign a User</button>
    </form>
</div>

@if (error != null)
{
    <div>@error<br /></div>
}
else
{
    <div>@added</div>
} *@

<div>
    <a asp-action="Index">Back to List</a>
</div>
